(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,r(o.key),o)}}function r(t){var r=function(t){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,"string");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(r)?r:r+""}new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events()},r=[{key:"events",value:function(){var e=this;document.addEventListener("DOMContentLoaded",(function(){e.fields()}))}},{key:"fields",value:function(){this.mediaField(),this.switchField(),this.colorField()}},{key:"colorField",value:function(){document.querySelectorAll(".salient-custom-branding-color-picker").forEach((function(e){var t=jQuery(e).find(".salient-custom-branding-color-field");t.wpColorPicker({change:function(e,r){t.val(r.color.toString())}})}))}},{key:"switchField",value:function(){document.querySelectorAll(".salient-toggle-switch").forEach((function(e){e.addEventListener("click",(function(t){var r=e.querySelector('input[type="hidden"]'),n=e.querySelector(".cb-enable"),o=e.querySelector(".cb-disable");"on"===r.value?(r.value="off",e.classList.remove("activated"),o.classList.add("selected"),n.classList.remove("selected")):(r.value="on",e.classList.add("activated"),o.classList.remove("selected"),n.classList.add("selected"))}))}))}},{key:"mediaField",value:function(){document.querySelectorAll(".salient-custom-branding-remove-image").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=this.parentElement,r=this.parentElement.querySelector(".media-preview"),n=this.getAttribute("rel-id");r.setAttribute("src",""),document.querySelector("#".concat(n,"-url"))&&document.querySelector("#".concat(n,"-id"))&&(document.querySelector("#".concat(n,"-url")).value="",document.querySelector("#".concat(n,"-id")).value="",t.classList.add("hidden-option"))}))})),document.querySelectorAll(".salient-custom-branding-media__button-add").forEach((function(e){e.addEventListener("click",(function(){var e=this,t=null;(t=wp.media.frames.customHeader=wp.media({title:e.getAttribute("data-title"),library:{type:"image"},button:{text:e.getAttribute("data-update")}})).on("select",(function(){var r=t.state().get("selection").first(),n=r.attributes.url,o=r.attributes.id,i=e.closest("td"),c=i.querySelector(".media-preview-wrap"),l=i.querySelector(".media-preview"),a=e.getAttribute("rel-id");l.setAttribute("src",n),document.querySelector("#".concat(a,"-url"))&&document.querySelector("#".concat(a,"-id"))&&(document.querySelector("#".concat(a,"-url")).value=n,document.querySelector("#".concat(a,"-id")).value=o,c.classList.remove("hidden-option"))})),t.open()}))}))}}],r&&t(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r}())})();